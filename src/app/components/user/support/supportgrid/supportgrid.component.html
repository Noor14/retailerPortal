<section class="internalSupport">
    <div class="container-fluid">

    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a routerLink="/user/dashboard">Dashboard</a>
        </li>
        <li class="breadcrumb-item">
            <a class="breadcrumb-item">Support</a>
        </li>
    </ol>
    <div class="content">
        <div class="d-flex justify-content-between align-items-center contentHeader">
                <h5>Support</h5>
                <button class="btn btn-lg btn-primary ml-3" type="button" routerLink="/user/support/0">Add Ticket</button>
        </div>
        <div class="row">
            <div class="col-3">
              <div class="form-group">
                <select class="form-control" [(ngModel)]="searchingOption" (change)="selectSearch()">
                  <option value="" selected>Select Criteria</option>
                  <option *ngFor="let option of searchBY">{{option}}</option>
                </select>
              </div>
            </div>

            <div class="col-4" [ngSwitch]="searchingOption">
              <div class="form-group" *ngSwitchCase="'Token ID'">
                <input class="form-control" #search placeholder="Token ID" />
              </div>
              <div class="form-group" *ngSwitchCase="'Issue Type'">
                <select class="form-control" #search (change)="filterByStatus(search)">
                  <option value="" selected>Issue Type</option>
                  <option *ngFor="let issue of issueType" [value]="issue.key">{{issue.value}}</option>
                </select>
              </div>
              <!-- <div class="form-group" *ngSwitchCase="'Created Date'">
                <input
                #myRangeInput
               class="form-control" 
               placeholder="mm-dd-yyyy - mm-dd-yyyy"
                name="dp" [displayMonths]="2" [navigation]="'select'" [outsideDays]="'visible'"
                [showWeekNumbers]="false" ngbDatepicker #d="ngbDatepicker" [dayTemplate]="t" (click)="d.toggle()" [autoClose]="'outside'"
               [(ngModel)]="model" 
               ngbDatepicker 
               [maxDate]="maxDate"
               [minDate]="minDate"
               autocomplete="off">
       
               <ng-template #t let-date="date" let-focused="focused">
                   <span class="custom-day"
                       [class.range]="isFrom(date) || isTo(date) || isInside(date) || isHovered(date)"
                       [class.faded]="isHovered(date) || isInside(date)"
                       (click)="onDateSelection(date)"
                       (mouseenter)="hoveredDate = date"
                       (mouseleave)="hoveredDate = null"
                       >
                   {{ date.day }}
                   </span>
               </ng-template>
              </div> -->

              <div class="form-group" *ngSwitchCase="'Status'">
                <select class="form-control" #search (change)="filterByStatus(search)">
                  <option value="" selected>Status</option>
                  <option>Paid</option>
                  <option>UnPaid</option>
                </select>
              </div>

          </div>
        </div>
        <div class="gridArea table-responsive" id="nav-scrollbar">
                <table class="table" *ngIf="supportList && supportList.length">
                    <thead>
                    <tr>
                        <th>Token ID</th>
                        <th>Issue Type</th>
                        <th>Created Date</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let item of supportList; let i = index">
                        <td> {{item.TicketNumber}} </td>
                        <td> {{item.IssueType}} </td>
                        <td> {{item.CreatedDate |  date: 'dd-MM-yyyy'}} </td>
                        <td> {{item.Status}} </td>
                        <td>
                            <div ngbDropdown class="d-inline" placement="bottom-right">
                            <img class="pointer" src="../../../../assets/_images/menu.svg" alt="menu" width="15" ngbDropdownToggle>
                            <div ngbDropdownMenu>
                                <button ngbDropdownItem (click)="gotoView(item.ID)">View</button>
                                <button ngbDropdownItem (click)="openDialog(item.ID)">Delete</button>
                              </div>
                            </div>
                           
                        </td>
                    </tr>
                    <tr  class="text-center" *ngIf="loadAvailable">
                        <td colspan="5"> <button class="btn" (click)="loadMore()" >Load More</button></td>
                    </tr>
                    </tbody>
                </table>
            <span class="d-flex align-items-center justify-content-center h-100" *ngIf="!supportList.length && !showSpinner">No Data Available</span>
        </div>
    <!-- <app-table></app-table> -->
    </div>
</div>
</section>
<ngx-spinner [visible]="showSpinner" [config]="spinnerConfig"></ngx-spinner>
